<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–¢–µ—Å—Ç –Ω–∞ –∂–µ–Ω—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</title>
    <style>
        /* –í—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å—Ç–∏–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π */

        #screen5 video {
            max-width: 800px;
            width: 90%;
            border-radius: 15px;
            margin-top: 20px;
        }

        .complete-message {
            font-size: 2em;
            color: #d32f2f;
            margin-bottom: 30px;
        }
    </style>
</head>
<body>
    <!-- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —ç–∫—Ä–∞–Ω—ã 1-4 -->

    <!-- –≠–∫—Ä–∞–Ω 5: –í–∏–¥–µ–æ-–ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ -->
    <div class="screen hidden" id="screen5">
        <div class="https://youtu.be/COKevpNXf2U?si=LpculOLsukaAsa-o">
            <div class="complete-message">–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –° 8 –ú–∞—Ä—Ç–∞! üéâ</div>
            <video id="congratsVideo" controls autoplay muted>
                <source src="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4" type="video/mp4">
                –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ —Ç–µ–≥.
            </video>
        </div>
    </div>

<script>
    // –ù–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã —Ç–µ—Å—Ç–∞
    const correctAnswers = [
        '–¢–æ–Ω–∞–ª—å–Ω—ã–π –∫—Ä–µ–º',    // –û—Ç–≤–µ—Ç –Ω–∞ –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å
        '#FF69B4',          // –¶–≤–µ—Ç "–®–æ–∫–∏—Ä—É—é—â–∏–π —Ä–æ–∑–æ–≤—ã–π"
        '–î–∞—Ç—á–∏–∫ —É–≤–ª–∞–∂–Ω–µ–Ω–∏—è' // –û—Å–Ω–æ–≤–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —É–≤–ª–∞–∂–Ω–∏—Ç–µ–ª—è
    ];

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ç–µ—Å—Ç–∞
    let correctCount = 0;
    
    document.querySelectorAll('.option').forEach(option => {
        option.addEventListener('click', function() {
            const questionIndex = Array.from(this.closest('.test-question').parentElement.children)
                .indexOf(this.closest('.test-question'));
            
            const isCorrect = checkAnswer(questionIndex, this);
            
            if(isCorrect && !this.classList.contains('correct')) {
                correctCount++;
            }
            
            if(correctCount === 3) {
                setTimeout(() => {
                    switchScreen('screen5');
                    document.getElementById('congratsVideo').play();
                }, 1000);
            }
        });
    });

    function checkAnswer(questionIndex, element) {
        let answer;
        switch(questionIndex) {
            case 0: // –ü–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å
                answer = element.textContent;
                break;
            case 1: // –í—Ç–æ—Ä–æ–π –≤–æ–ø—Ä–æ—Å (—Ü–≤–µ—Ç)
                answer = element.style.backgroundColor;
                break;
            case 2: // –¢—Ä–µ—Ç–∏–π –≤–æ–ø—Ä–æ—Å
                answer = element.textContent;
                break;
        }

        const isCorrect = answer === correctAnswers[questionIndex];
        
        element.classList.remove('correct', 'wrong');
        element.classList.add(isCorrect ? 'correct' : 'wrong');
        
        return isCorrect;
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π HTML –¥–ª—è —Ç–µ—Å—Ç–∞
    const testHTML = `
    <div class="screen hidden" id="screen4">
        <div class="content">
            <h1>–ñ–µ–Ω—Å–∫–∏–π —Ç–µ—Å—Ç –∑–Ω–∞–Ω–∏–π</h1>
            <div class="test-question">
                <h3>1. –ß—Ç–æ —Ç–∞–∫–æ–µ –ø—Ä–∞–π–º–µ—Ä –¥–ª—è –ª–∏—Ü–∞?</h3>
                <div class="options">
                    <div class="option">–¢–æ–Ω–∞–ª—å–Ω—ã–π –∫—Ä–µ–º</div>
                    <div class="option">–ë–∞–∑–∞ –ø–æ–¥ –º–∞–∫–∏—è–∂</div>
                    <div class="option">–°–æ–ª–Ω—Ü–µ–∑–∞—â–∏—Ç–Ω—ã–π –∫—Ä–µ–º</div>
                </div>
            </div>
            
            <div class="test-question">
                <h3>2. –ö–∞–∫–æ–π —Ü–≤–µ—Ç –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "–®–æ–∫–∏—Ä—É—é—â–∏–π —Ä–æ–∑–æ–≤—ã–π"?</h3>
                <div class="options">
                    <div class="option" style="background: #FF69B4"></div>
                    <div class="option" style="background: #FFC0CB"></div>
                    <div class="option" style="background: #DB7093"></div>
                </div>
            </div>

            <div class="test-question">
                <h3>3. –û—Å–Ω–æ–≤–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —É–≤–ª–∞–∂–Ω–∏—Ç–µ–ª—è –≤–æ–∑–¥—É—Ö–∞?</h3>
                <div class="options">
                    <div class="option">–î–∞—Ç—á–∏–∫ —É–≤–ª–∞–∂–Ω–µ–Ω–∏—è</div>
                    <div class="option">–û—á–∏—Å—Ç–∫–∞ –≤–æ–∑–¥—É—Ö–∞</div>
                    <div class="option">–ê—Ä–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø–æ–º–µ—â–µ–Ω–∏—è</div>
                </div>
            </div>
        </div>
    </div>`;

    // –ó–∞–º–µ–Ω—è–µ–º —Å—Ç–∞—Ä—ã–π —Ç–µ—Å—Ç –Ω–æ–≤—ã–º
    document.body.insertAdjacentHTML('beforeend', testHTML);
</script>
</body>
</html>
